---
interface Props {
  title: string;
  description: string;
  pubDate: Date;
  tags?: string[];
  slug: string;
}

const { title, description, pubDate, tags = [], slug } = Astro.props;

const formattedDate = pubDate.toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric',
});
---

<article class="post-card">
  <a href={`/blog/${slug}`} class="post-link">
    <time datetime={pubDate.toISOString()}>{formattedDate}</time>
    <h3>{title}</h3>
    <p>{description}</p>
    {tags.length > 0 && (
      <div class="tags">
        {tags.map((tag) => (
          <span class="tag">{tag}</span>
        ))}
      </div>
    )}
  </a>
</article>

<style>
  .post-card {
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    background: var(--surface);
    transition:
      border-color var(--duration-fast) var(--ease-out),
      box-shadow var(--duration-base) var(--ease-out),
      transform var(--duration-base) var(--ease-out);
  }

  .post-card:hover {
    border-color: var(--border-strong);
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
  }

  .post-card:active {
    transform: translateY(0);
  }

  .post-card:focus-within {
    border-color: var(--border-strong);
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
  }

  .post-link {
    display: block;
    padding: var(--space-6);
    text-decoration: none;
    color: inherit;
  }

  .post-link:hover {
    text-decoration: none;
  }

  time {
    font-size: var(--text-sm);
    color: var(--accent-warm);
  }

  h3 {
    font-size: var(--text-xl);
    margin: var(--space-xs) 0 var(--space-sm);
    color: var(--foreground);
  }

  p {
    color: var(--secondary);
    font-size: var(--text-sm);
    line-height: 1.6;
  }

  .tags {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-xs);
    margin-top: var(--space-sm);
  }

  .tag {
    font-size: var(--text-sm);
    color: var(--accent-warm);
    background: var(--accent-warm-soft);
    padding: var(--space-xs) var(--space-sm);
    border-radius: 9999px;
    font-weight: 500;
  }

  @media (prefers-reduced-motion: reduce) {
    .post-card {
      transition: none;
      transform: none !important;
    }
  }
</style>
